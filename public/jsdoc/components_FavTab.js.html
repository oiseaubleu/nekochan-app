<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/FavTab.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/FavTab.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>///////////////////////////////////////////////////////////////////////////////////////////////
// Favoriteã‚¿ãƒ–é–¢ä¿‚ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
///////////////////////////////////////////////////////////////////////////////////////////////
import React, { PureComponent, useEffect, useState } from "react"
import Button from "react-bootstrap/Button"
import Image from "next/image"
import Container from "react-bootstrap/Container"
import Row from "react-bootstrap/Row"
import Col from "react-bootstrap/Col"

/**
 * ã€FavTabã€‘ãŠæ°—ã«å…¥ã‚Šãƒã‚³ãƒãƒ£ãƒ³ã‚¿ãƒ–ã®è¡¨ç¤ºã™ã‚‹ default function
 * @module
 * @param {object} props Propsã¨ã—ã¦å¼•æ•°ã‚’å—ã‘å–ã‚‹ã€‚
 * @param {boolean} props.isSelected ãŠæ°—ã«å…¥ã‚Šã‚¿ãƒ–ãã®ã‚‚ã®ãŒé¸ã°ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã®Boolean
 * @param {object[]} props.favList æ¤œç´¢ã—ãŸçµæžœã®ãƒã‚³ã®æƒ…å ±ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§é…åˆ—ã«å…¥ã£ã¦ã„ã‚‹ [{ imageId ,imageUrl , votes, favorite }]
 * @param {function} props.CatGreet æŠ¼ã™ã¨votesã«+1ã™ã‚‹é–¢æ•°
 * @param {function} props.removeFav æŠ¼ã™ã¨ãŠæ°—ã«å…¥ã‚Šã‹ã‚‰å‰Šé™¤ã™ã‚‹é–¢æ•°
 */
export default function FavTab({ isSelected, favList, catGreet, removeFav }) {
  let [currentCatNum, setCurrentCatNum] = useState(5) //ç¾åœ¨è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ãƒã‚³ã®æ•°
  let currentFavCats = favList.slice(0, currentCatNum) //ç¾åœ¨è¡¨ç¤ºã—ã¦ã„ã‚‹ãƒã‚³ã®æƒ…å ±
  //è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ãƒã‚³ã®æ•°ã‚’å¤‰åŒ–ã•ã›ã‚‹é–¢æ•°â†“
  const moreAndMore = () => {
    setCurrentCatNum((prev) => prev + 5)
  }

  const handlePageClick = (data) => {
   
    let selected = data.selected
    setCurrentPageNum(selected)
  }

  let favTabAppear
  let loadMoreAppear
  //ã‚‚ã—ã€currentCatNumãŒfavList.lengthä»¥ä¸Šã«ãªã£ãŸã‚‰moreãƒœã‚¿ãƒ³ã¯ã‚‚ã†ã„ã‚‰ãªã„ã®ã§å‡ºã•ãªã„
  if (currentCatNum &lt; favList.length) {
    loadMoreAppear = &lt;LoadMoreButton moreAndMore={moreAndMore} />
  }

  if (favList.length === 0 || !isSelected) {
    favTabAppear = &lt;>Let's search your favoriteðŸ˜»!!&lt;/>
  } else {
   
    favTabAppear = (
      &lt;Container>
        {currentFavCats.map(
          (
            favcatInfo 
          ) => (
            &lt;Col>
              &lt;FavRow
                favoriteId={favcatInfo.favorite?.favoriteId}
                favcatImageId={favcatInfo.imageId}
                favcatUrl={favcatInfo.imageUrl}
                favcatVotes={favcatInfo.votes}
                favcatDate={favcatInfo.favorite?.created_at}
                catGreet={catGreet}
                removeFav={removeFav}
              />
            &lt;/Col>
          )
        )}
        {loadMoreAppear}
      &lt;/Container>
    )
  }
  return &lt;> {favTabAppear}&lt;/>
}

/**
 * ã€LoadMoreButtonã€‘LOAD MOREãƒœã‚¿ãƒ³ã®è¡¨ç¤º
 * @param {function} props.moreAndMore æŠ¼ã™ã¨è¡¨ç¤ºã•ã‚Œã‚‹ãƒã‚³ãƒãƒ£ãƒ³ã®æ•°ã‚’å¤‰åŒ–ã•ã›ã‚‹é–¢æ•°
 */
export function LoadMoreButton({ moreAndMore }) {
  return (
    &lt;Button variant="secondary" onClick={moreAndMore}>
      LOAD MORE ...ðŸˆðŸˆðŸˆ
    &lt;/Button>
  )
}

/**
 * ã€FavRowã€‘ãŠæ°—ã«å…¥ã‚Šãƒã‚³ãƒãƒ£ãƒ³ï¼‘åŒ¹ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®é–¢æ•°
 * @param {object} props Propsã¨ã—ã¦å¼•æ•°ã‚’å—ã‘å–ã‚‹ã€‚
 * @param {string} props.favcatImageId ãŠæ°—ã«å…¥ã‚Šãƒã‚³ãƒãƒ£ãƒ³ã®imageId
 * @param {string} props.favcatUrl ãŠæ°—ã«å…¥ã‚Šãƒã‚³ãƒãƒ£ãƒ³ã®URL
 * @param {number} props.favcatVotes ãŠæ°—ã«å…¥ã‚Šãƒã‚³ãƒãƒ£ãƒ³ã®é­šæ•°
 * @param {date} props.favcatDate ãŠæ°—ã«å…¥ã‚Šãƒã‚³ãƒãƒ£ãƒ³ã«ã—ãŸæ—¥
 * @param {function} props.catGreet æŠ¼ã™ã¨votesã«+1ã™ã‚‹é–¢æ•°
 * @param {string} props.favoriteId ãŠæ°—ã«å…¥ã‚Šãƒã‚³ãƒãƒ£ãƒ³ã®favoriteId
 * @param {function} props.removeFav æŠ¼ã™ã¨ãŠæ°—ã«å…¥ã‚Šã‹ã‚‰å‰Šé™¤ã™ã‚‹é–¢æ•°
 */
export function FavRow({
  favcatImageId,
  favcatUrl,
  favcatVotes,
  favcatDate,
  catGreet,
  favoriteId,
  removeFav,
}) {
  
  let favcatDateAppear = ""
  if (favcatDate) {
    const favDate = new Date(favcatDate)
    const year = favDate.getFullYear()
    const month = favDate.getMonth() + 1
    const date = favDate.getDate()
    favcatDateAppear = `${year}/${month}/${date}`
  }
  return (
    &lt;Row>
      {" "}
      &lt;Col>
        &lt;Row>You added at {favcatDateAppear}.&lt;/Row>
        &lt;Row>
          ðŸŸ{favcatVotes} &amp;nbsp;&amp;nbsp;
          &lt;CatGreetButton catGreet={catGreet} favcatImageId={favcatImageId} />
        &lt;/Row>
        &lt;Row>
          &lt;DeleteFavorite favcatImageId={favcatImageId} removeFav={removeFav} />
        &lt;/Row>
      &lt;/Col>
      &lt;Col>
        &lt;Row>
          {" "}
          &lt;img
            src={favcatUrl}
            alt="Oops!  He/She looks shy..."
            width="100%"
            align="right"
          />
        &lt;/Row>
      &lt;/Col>
    &lt;/Row>
  )
}
/**
 * ã€CatGreetButtonã€‘ãŠã•ã‹ãªãƒœã‚¿ãƒ³ã®å®Ÿè£…
 * @param {object} props Propsã¨ã—ã¦å¼•æ•°ã‚’å—ã‘å–ã‚‹ã€‚
 * @param {string} props.favcatImageId ãŠæ°—ã«å…¥ã‚Šãƒã‚³ãƒãƒ£ãƒ³ã®imageId
 * @param {function} props.catGreet æŠ¼ã™ã¨votesã«+1ã™ã‚‹é–¢æ•°
 */
export function CatGreetButton({ catGreet, favcatImageId }) {
  return (
    &lt;div>
      {" "}
      &lt;Button variant="outline-info" onClick={() => catGreet(favcatImageId)}>
        &lt;Image src="/images/fish1.png" height={32} width={32} alt="é€ä¿¡" />
      &lt;/Button>
    &lt;/div>
  )
}

/**
 * ã€DeleteFavoriteã€‘ãŠæ°—ã«å…¥ã‚Šã‹ã‚‰å‰Šé™¤ã™ã‚‹ãƒœã‚¿ãƒ³ã®å®Ÿè£…
 * @param {object} props Propsã¨ã—ã¦å¼•æ•°ã‚’å—ã‘å–ã‚‹ã€‚
 * @param {string} props.favcatImageId ãŠæ°—ã«å…¥ã‚Šãƒã‚³ãƒãƒ£ãƒ³ã®imageId
 * @param {function} props.removeFav æŠ¼ã™ã¨ãŠæ°—ã«å…¥ã‚Šã‹ã‚‰å‰Šé™¤ã™ã‚‹é–¢æ•°
 */
export function DeleteFavorite({ removeFav, favcatImageId }) {
  return (
    &lt;div>
      &lt;Button variant="link" onClick={() => removeFav(favcatImageId)}>
        Remove from FAV
      &lt;/Button>
    &lt;/div>
  )
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-components_AddImage.html">components/AddImage</a></li><li><a href="module-components_CanNotChangePassword.html">components/CanNotChangePassword</a></li><li><a href="module-components_CatPage.html">components/CatPage</a></li><li><a href="module-components_CatRow.html">components/CatRow</a></li><li><a href="module-components_ChangePassword.html">components/ChangePassword</a></li><li><a href="module-components_FavTab.html">components/FavTab</a></li><li><a href="module-components_mypage.html">components/mypage</a></li><li><a href="module-components_MyTab.html">components/MyTab</a></li><li><a href="module-components_search.html">components/search</a></li><li><a href="module-components_top.html">components/top</a></li><li><a href="module-lib_email.html">lib/email</a></li><li><a href="module-lib_fetchJson.html">lib/fetchJson</a></li><li><a href="module-lib_session.html">lib/session</a></li><li><a href="module-lib_useAllCatVotes.html">lib/useAllCatVotes</a></li><li><a href="module-lib_useAllFavorites.html">lib/useAllFavorites</a></li><li><a href="module-lib_useCats.html">lib/useCats</a></li><li><a href="module-lib_useCatSearch.html">lib/useCatSearch</a></li><li><a href="module-lib_useMyImages.html">lib/useMyImages</a></li><li><a href="module-lib_user.html">lib/user</a></li><li><a href="module-lib_useUser.html">lib/useUser</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Sat Aug 28 2021 12:59:30 GMT+0700 (ã‚¤ãƒ³ãƒ‰ã‚·ãƒŠæ™‚é–“)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
